<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>hypso.device &mdash; Hypso Package 1.9.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Hypso Package
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Hypso Package</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hypso.device</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/autoapi/hypso/device/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-hypso.device">
<span id="hypso-device"></span><h1><a class="reference internal" href="../../../hypso.device.html#module-hypso.device" title="hypso.device"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hypso.device</span></code></a><a class="headerlink" href="#module-hypso.device" title="Permalink to this heading"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../hypso.device.html#hypso.device.Hypso" title="hypso.device.Hypso"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Hypso</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../hypso.device.html#hypso.device.set_or_create_attr" title="hypso.device.set_or_create_attr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_or_create_attr</span></code></a>(var, attr_name, attr_value)</p></td>
<td><p>Set or create an attribute on &quot;.nc&quot; file.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hypso.device.EXPERIMENTAL_FEATURES" title="hypso.device.EXPERIMENTAL_FEATURES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EXPERIMENTAL_FEATURES</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt class="sig sig-object py" id="hypso.device.EXPERIMENTAL_FEATURES">
<span class="sig-prename descclassname"><span class="pre">hypso.device.</span></span><span class="sig-name descname"><span class="pre">EXPERIMENTAL_FEATURES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#hypso.device.EXPERIMENTAL_FEATURES" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hypso.device.Hypso">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hypso.device.</span></span><span class="sig-name descname"><span class="pre">Hypso</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hypso_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hypso_path</strong> (<em>str</em>) – </p></li>
<li><p><strong>points_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_srf">
<span class="sig-name descname"><span class="pre">get_srf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_srf" title="Permalink to this definition"></a></dt>
<dd><p>Get Spectral Response Functions (SRF) from HYPSO for each of the 120 bands. Theoretical FWHM of 3.33nm is
used to estimate Sigma for an assumed gaussian distribution of each SRF per band.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of SRF</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.create_l1b_nc_file">
<span class="sig-name descname"><span class="pre">create_l1b_nc_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.create_l1b_nc_file" title="Permalink to this definition"></a></dt>
<dd><p>Create a l1b.nc file using the radiometrically corrected data. Same structure from the original l1a.nc file
is used. Required to run ACOLITE as the input is a radiometrically corrected .nc file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Nothing.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.create_geotiff">
<span class="sig-name descname"><span class="pre">create_geotiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L2-ACOLITE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atmos_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.create_geotiff" title="Permalink to this definition"></a></dt>
<dd><p>Create a GeoTIFF file for either the L1C or L2 products.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product</strong> (<em>Literal</em><em>[</em><em>L2-ACOLITE</em><em>, </em><em>L2-6SV1</em><em>, </em><em>L1C</em><em>]</em>) – Product to be used to create the GeoTIFF file</p></li>
<li><p><strong>force_reload</strong> (<em>bool</em>) – When True, deletes the file if it exists and forces the generation of a new one.</p></li>
<li><p><strong>atmos_dict</strong> (<em>Union</em><em>[</em><em>dict</em><em>, </em><em>None</em><em>]</em>) – <p>Dictionary of parameters if the L2 product is selected.</p>
<p><strong>* For ACOLITE *</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">{'user':'alvarof',</span> <span class="pre">'password':'nwz7xmu8dak.UDG9kqz'}</span></code></p>
<p><em>(user and password from https://urs.earthdata.nasa.gov/profile)</em></p>
<p><strong>* For 6SV1 **</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">{'aot550':</span> <span class="pre">0.0580000256}</span></code></p>
<p><em>(AOT550 parameter gotten from: https://giovanni.gsfc.nasa.gov/giovanni/)</em></p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>No return.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.delete_geotiff_dir">
<span class="sig-name descname"><span class="pre">delete_geotiff_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.delete_geotiff_dir" title="Permalink to this definition"></a></dt>
<dd><p>Delete the GeoTiff directory. Used when force_reload is set to True in the “create_geotiff” method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>No return.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.find_geotiffs">
<span class="sig-name descname"><span class="pre">find_geotiffs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.find_geotiffs" title="Permalink to this definition"></a></dt>
<dd><p>Recursively find GeoTiffs inside the “top_folder_name” directory in the “info” dictionary from the Hypso
class. GeoTiffs paths are stored in the Hypso object attribures, rgbGeotiffFilePath, l1cgeotiffFilePath and
l2geotiffFilePath.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>No return.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.find_existing_l2_cube">
<span class="sig-name descname"><span class="pre">find_existing_l2_cube</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.find_existing_l2_cube" title="Permalink to this definition"></a></dt>
<dd><p>Recursively find the .npy files corresponding to previous runs of the atmospheric correction process. This saves
time by loading the .npy files instead of correction again.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dictionary containing all .npy containing atmospherically corrected BOA reflectance. Could be
either ACOLITE or 6SV1. Returns None if no .npy found.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Union[dict, None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_projection_metadata">
<span class="sig-name descname"><span class="pre">get_projection_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_projection_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Returns the projection metadata dictionary. This is either extracted from the RGBA, L1 or L1C GeoTiff</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing the projection information for the capture.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_calibration_coefficients_path">
<span class="sig-name descname"><span class="pre">get_calibration_coefficients_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_calibration_coefficients_path" title="Permalink to this definition"></a></dt>
<dd><p>Get the absolute ath for the calibration coefficients included in the package. This includes radiometric,
smile and destriping correction.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary with paths for radiometric, smil and destriping correction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_spectral_coefficients_path">
<span class="sig-name descname"><span class="pre">get_spectral_coefficients_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_spectral_coefficients_path" title="Permalink to this definition"></a></dt>
<dd><p>Get the absolute path for the spectral coefficients (wavelengths).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Absolute path for the spectral coefficients (wavelengths)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_spectra">
<span class="sig-name descname"><span class="pre">get_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L1C'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_spectra" title="Permalink to this definition"></a></dt>
<dd><p>Get spectra values from the indicated coordinated or pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position_dict</strong> (<em>dict</em>) – <p>Dictionary with the inputs required.</p>
<p><strong>* If Coordinates are Input *</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">{&quot;lat&quot;:59.5,&quot;lon&quot;:10}</span></code></p>
<p><strong>* If pixel location passed *</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">{&quot;X&quot;:200,&quot;Y&quot;:83}</span></code></p>
</p></li>
<li><p><strong>product</strong> (<em>Literal</em><em>[</em><em>L1C</em><em>, </em><em>L2-6SV1</em><em>, </em><em>L2-ACOLITE</em><em>]</em>) – Product of which to retrieve the spectral signal. Can either be “L1C”, “L2-ACOLITE” or “L2-6SV1”</p></li>
<li><p><strong>filename</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>None</em><em>]</em>) – Path on which to save the spectra as a .csv file. Filename should contain the “.csv” extension.
Example: “/Documents/export_signal.csv”. If None, the spectral signal won´t be saved as a file.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – If True, the spectral signal will be plotted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None if the coordinates/pixel location are not withing the captured image. Otherwise, a pandas dataframe
containing the spectral signal is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[pandas.DataFrame, None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_calibrated_and_corrected_cube">
<span class="sig-name descname"><span class="pre">get_calibrated_and_corrected_cube</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_calibrated_and_corrected_cube" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Get calibrated and corrected cube. Includes Radiometric, Smile and Destriping Correction.</dt><dd><p>Assumes all coefficients has been adjusted to the frame size (cropped and
binned), and that the data cube contains 12-bit values.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Corrected Hyperspectral Cube as a Numpy Array</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hypso.device.Hypso.get_toa_reflectance">
<span class="sig-name descname"><span class="pre">get_toa_reflectance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.Hypso.get_toa_reflectance" title="Permalink to this definition"></a></dt>
<dd><p>Convert Top Of Atmosphere (TOA) Radiance to TOA Reflectance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Array with TOA Reflectance.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hypso.device.set_or_create_attr">
<span class="sig-prename descclassname"><span class="pre">hypso.device.</span></span><span class="sig-name descname"><span class="pre">set_or_create_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hypso.device.set_or_create_attr" title="Permalink to this definition"></a></dt>
<dd><p>Set or create an attribute on “.nc” file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> – Variable on to which assign the attribute</p></li>
<li><p><strong>attr_name</strong> – Attribute name</p></li>
<li><p><strong>attr_value</strong> – Attribute value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>No return value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Norwegian University of Science and Technology (NTNU).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>